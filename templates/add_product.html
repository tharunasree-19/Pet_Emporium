{% extends "base.html" %}

{% block title %}Add Product - Paws & Claws Pet Shop{% endblock %}

{% block content %}
<div style="max-width: 600px; margin: 0 auto;">
    <div style="margin-bottom: 24px;">
        <a href="/products" style="color: var(--color-accent-fg); text-decoration: none;">← Back to Products</a>
    </div>

    <div class="card">
        <div style="text-align: center; margin-bottom: 32px;">
            <h1 style="font-size: 32px; margin-bottom: 8px;">Add New Product</h1>
            <p style="color: var(--color-fg-muted);">Add a new product to your inventory</p>
        </div>

        <form method="POST">
            <div class="form-group">
                <label for="name" class="form-label">Product Name *</label>
                <input type="text" id="name" name="name" class="form-control" required>
            </div>

            <div class="form-group">
                <label for="description" class="form-label">Description *</label>
                <textarea id="description" name="description" class="form-control" rows="4" required></textarea>
            </div>

            <div class="grid grid-2">
                <div class="form-group">
                    <label for="price" class="form-label">Price (₹) *</label>
                    <input type="number" id="price" name="price" class="form-control" step="0.01" min="0" required>
                </div>

                <div class="form-group">
                    <label for="stock_quantity" class="form-label">Stock Quantity *</label>
                    <input type="number" id="stock_quantity" name="stock_quantity" class="form-control" min="0" required>
                </div>
            </div>

            <div class="form-group">
                <label for="category" class="form-label">Category *</label>
                <select id="category" name="category" class="form-control" required>
                    <option value="">Select Category</option>
                    <option value="Food">Food</option>
                    <option value="Toys">Toys</option>
                    <option value="Accessories">Accessories</option>
                    <option value="Health">Health</option>
                    <option value="Grooming">Grooming</option>
                    <option value="Training">Training</option>
                    <option value="Other">Other</option>
                </select>
            </div>

            <div class="form-group">
                <label for="image_url" class="form-label">Image URL (Optional)</label>
                <input type="url" id="image_url" name="image_url" class="form-control" 
                       placeholder="https://example.com/image.jpg">
                <div style="font-size: 12px; color: var(--color-fg-muted); margin-top: 4px;">
                    Enter a valid image URL to display the product image
                </div>
            </div>

            <div class="form-group">
                <button type="submit" class="btn btn-primary" style="width: 100%; padding: 12px;">
                    Add Product
                </button>
            </div>
        </form>
    </div>
</div>

<script>
// Preview image when URL is entered
document.getElementById('image_url').addEventListener('input', function() {
    const url = this.value;
    const preview = document.getElementById('image-preview');
    
    if (preview) {
        preview.remove();
    }
    
    if (url) {
        const img = document.createElement('img');
        img.id = 'image-preview';
        img.src = url;
        img.style.cssText = 'width: 100%; max-width: 200px; height: 150px; object-fit: cover; border-radius: 6px; margin-top: 8px; border: 1px solid var(--color-border-default);';
        img.onerror = function() {
            this.style.display = 'none';
        };
        this.parentNode.appendChild(img);
    }
});
</script>
{% endblock %}